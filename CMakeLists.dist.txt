cmake_minimum_required(VERSION 3.8)

add_library(ZHMModSDK SHARED IMPORTED GLOBAL)

set(ZHM_BUILD_TYPE "release")

if(CMAKE_BUILD_TYPE STREQUAL "Debug")
    set(ZHM_BUILD_TYPE "debug")
endif()

set_target_properties(ZHMModSDK PROPERTIES
    IMPORTED_LOCATION "${CMAKE_CURRENT_SOURCE_DIR}/${ZHM_BUILD_TYPE}/bin/ZHMModSDK.dll"
    IMPORTED_IMPLIB "${CMAKE_CURRENT_SOURCE_DIR}/${ZHM_BUILD_TYPE}/lib/ZHMModSDK.lib"
    INTERFACE_INCLUDE_DIRECTORIES "${CMAKE_CURRENT_SOURCE_DIR}/include"
    INTERFACE_LINK_DIRECTORIES "${CMAKE_CURRENT_SOURCE_DIR}/${ZHM_BUILD_TYPE}/lib"
    INTERFACE_COMPILE_DEFINITIONS "SPDLOG_FMT_EXTERNAL"
)

target_link_libraries(ZHMModSDK INTERFACE
    fmt
    imgui
)
